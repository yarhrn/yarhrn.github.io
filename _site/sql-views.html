<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <title>football.db SQL Queries Made Easy (Thanks to Views) - Yaroslav's blog</title>
   <link rel="stylesheet" type="text/css" href="/css/style.css" >
   <link rel="alternate" type="application/atom+xml" href="/feed.xml" title="News Feed">
</head>
<body>

<div class="container">
<header class="masthead">
   <h3 class="masthead-title">
     <div>Yaroslav's blog</a>
     <small>
        &nbsp;&nbsp;&nbsp;<a href="/">Archive</a>
     </small>
     <small>
        &nbsp;&nbsp;&nbsp;<a href="/about.html">About</a>
     </small>
     <small>
       &nbsp;&nbsp;&nbsp;<a href="/projects.html">Projects</a>
     </small>
      <small>
       &nbsp;&nbsp;&nbsp;<a href="/talks.html">Talks & Slides</a>
     </small>
      <small>
       &nbsp;&nbsp;&nbsp;<a href="/feed.xml">Feed</a>
     </small>
   </h3>
</header>

<div id="content">
  <article class='post'>
  <h1 class='post-title'>football.db SQL Queries Made Easy (Thanks to Views)</h1>
  <div class="post-date">Oct 21, 2014</div>
  <p>First thanks to Joe Kampschmidt for getting started w/
some <a href="http://openfootball.github.io/docs/sql-queries-intro.html">SQL queries examples</a>.</p>

<p>Added some SQL views to make it easier to query the <code>football.db</code>.
Example - List World Cup Brazil 2014 Games:</p>

<p>Before (Table Edition): 
<script src="https://gist.github.com/yaroslavhq/a4f5e20271e32029faa00c6e3c20cd07.js"></script></p>

<pre><code>SELECT t1.title, 
       t2.title, 
       g.* 
  FROM games g 
       LEFT OUTER JOIN teams t1 ON t1.id = g.team1_id 
       LEFT OUTER JOIN teams t2 ON t2.id = g.team2_id 
       INNER JOIN rounds r ON r.id = g.round_id 
       INNER JOIN events e ON e.id = r.event_id 
 WHERE e.key = 'world.2014' 
</code></pre>

<p>After (View Edition):</p>

<pre><code>SELECT * 
  FROM events_games_list 
 WHERE e.key = 'world.2014'; 
</code></pre>

<p><a href="https://github.com/openfootball/schema.sql">More views</a> include:</p>

<ul>
  <li><code>teams_list</code></li>
  <li><code>games_list</code></li>
  <li><code>events_list</code></li>
  <li><code>events_teams_list</code></li>
  <li><code>events_games_list</code></li>
  <li><code>events_rounds_list</code></li>
  <li><code>events_groups_list</code></li>
</ul>

</article>


</div>

</div><!-- .container -->
</body>
</html>
